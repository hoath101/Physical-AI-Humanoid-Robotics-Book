<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-module-2-digital-twin/unity-scene-setup" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Unity Scene Setup and Physics Configuration | Physical AI &amp; Humanoid Robotics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hoath101.github.io/Physical-AI-Humanoid-Robotics-Book/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hoath101.github.io/Physical-AI-Humanoid-Robotics-Book/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hoath101.github.io/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/unity-scene-setup"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Unity Scene Setup and Physics Configuration | Physical AI &amp; Humanoid Robotics"><meta data-rh="true" name="description" content="Unity provides a powerful environment for creating high-fidelity digital twins with advanced graphics and physics capabilities. This section covers setting up Unity scenes for humanoid robotics simulation with proper physics configuration."><meta data-rh="true" property="og:description" content="Unity provides a powerful environment for creating high-fidelity digital twins with advanced graphics and physics capabilities. This section covers setting up Unity scenes for humanoid robotics simulation with proper physics configuration."><link data-rh="true" rel="icon" href="/Physical-AI-Humanoid-Robotics-Book/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hoath101.github.io/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/unity-scene-setup"><link data-rh="true" rel="alternate" href="https://hoath101.github.io/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/unity-scene-setup" hreflang="en"><link data-rh="true" rel="alternate" href="https://hoath101.github.io/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/unity-scene-setup" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Unity Scene Setup and Physics Configuration","item":"https://hoath101.github.io/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/unity-scene-setup"}]}</script><link rel="stylesheet" href="/Physical-AI-Humanoid-Robotics-Book/assets/css/styles.30727653.css">
<script src="/Physical-AI-Humanoid-Robotics-Book/assets/js/runtime~main.ff7ca8d7.js" defer="defer"></script>
<script src="/Physical-AI-Humanoid-Robotics-Book/assets/js/main.743fb04c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Physical-AI-Humanoid-Robotics-Book/"><div class="navbar__logo"><img src="/Physical-AI-Humanoid-Robotics-Book/img/logo.jpg" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Physical-AI-Humanoid-Robotics-Book/img/logo.jpg" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Physical-AI-Humanoid-Robotics-Book/docs/">Book</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/hoath101/physical-ai-humanoid-robotics-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Physical-AI-Humanoid-Robotics-Book/docs/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-1-ros2/"><span title="Module 1 – ROS2" class="categoryLinkLabel_W154">Module 1 – ROS2</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/"><span title="Module 2 – Digital Twin" class="categoryLinkLabel_W154">Module 2 – Digital Twin</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/"><span title="Module 2 Digital Twin" class="linkLabel_WmDU">Module 2 Digital Twin</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/gazebo-simulation"><span title="Gazebo Simulation" class="linkLabel_WmDU">Gazebo Simulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/gazebo-world-setup"><span title="Gazebo World Setup and Configuration" class="linkLabel_WmDU">Gazebo World Setup and Configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/physics-collisions"><span title="Physics and Collisions" class="linkLabel_WmDU">Physics and Collisions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/practical-exercises"><span title="Practical Exercises - Digital Twin Simulation" class="linkLabel_WmDU">Practical Exercises - Digital Twin Simulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/sensor-simulation"><span title="Sensor Simulation" class="linkLabel_WmDU">Sensor Simulation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/unity-scene-setup"><span title="Unity Scene Setup and Physics Configuration" class="linkLabel_WmDU">Unity Scene Setup and Physics Configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/unity-visualization"><span title="Unity Visualization" class="linkLabel_WmDU">Unity Visualization</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/urdf-validation"><span title="URDF Model Creation and Validation" class="linkLabel_WmDU">URDF Model Creation and Validation</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-3-ai-perception/"><span title="Module 3 – AI Perception" class="categoryLinkLabel_W154">Module 3 – AI Perception</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-4-vla/"><span title="Module 4 – VLA" class="categoryLinkLabel_W154">Module 4 – VLA</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><span class="breadcrumbs__link">Module 2 – Digital Twin</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Unity Scene Setup and Physics Configuration</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Unity Scene Setup and Physics Configuration</h1></header>
<p>Unity provides a powerful environment for creating high-fidelity digital twins with advanced graphics and physics capabilities. This section covers setting up Unity scenes for humanoid robotics simulation with proper physics configuration.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="unity-project-setup-for-robotics">Unity Project Setup for Robotics<a href="#unity-project-setup-for-robotics" class="hash-link" aria-label="Direct link to Unity Project Setup for Robotics" title="Direct link to Unity Project Setup for Robotics" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="initial-project-configuration">Initial Project Configuration<a href="#initial-project-configuration" class="hash-link" aria-label="Direct link to Initial Project Configuration" title="Direct link to Initial Project Configuration" translate="no">​</a></h3>
<p>When creating a Unity project for robotics applications:</p>
<ol>
<li class=""><strong>Project Template</strong>: Start with 3D template</li>
<li class=""><strong>Target Platform</strong>: Consider your deployment needs (PC, VR, mobile)</li>
<li class=""><strong>Scripting Runtime</strong>: Use .NET Standard 2.1 or higher</li>
<li class=""><strong>API Compatibility</strong>: .NET Framework for Windows applications</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="required-packages">Required Packages<a href="#required-packages" class="hash-link" aria-label="Direct link to Required Packages" title="Direct link to Required Packages" translate="no">​</a></h3>
<p>Install these packages via the Unity Package Manager (Window → Package Manager):</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Key packages for robotics simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- com.unity.robotics.ros-tcp-connector: ROS communication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- com.unity.robotics.urdf-importer: URDF model import</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- com.unity.perception: Synthetic data generation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- com.unity.physics: Advanced physics simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- com.unity.xr: If using VR/AR</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="project-settings-configuration">Project Settings Configuration<a href="#project-settings-configuration" class="hash-link" aria-label="Direct link to Project Settings Configuration" title="Direct link to Project Settings Configuration" translate="no">​</a></h3>
<p>Configure Project Settings for robotics simulation:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Edit → Project Settings → Time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Fixed Timestep: 0.02 (50 Hz) for physics simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Maximum Allowed Timestep: 0.333 (30 FPS cap)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Maximum Particle Timestep: 0.03</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Edit → Project Settings → Physics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Gravity: (0, -9.81, 0) for Earth-like gravity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Default Material: Create custom material with appropriate friction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Bounce Threshold: 2 (velocity threshold for bounce)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Contact Offset: 0.01 (contact distance threshold)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Solver Iterations: 6 (accuracy vs performance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Solver Velocity Iterations: 1 (velocity accuracy)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="scene-architecture">Scene Architecture<a href="#scene-architecture" class="hash-link" aria-label="Direct link to Scene Architecture" title="Direct link to Scene Architecture" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="basic-scene-structure">Basic Scene Structure<a href="#basic-scene-structure" class="hash-link" aria-label="Direct link to Basic Scene Structure" title="Direct link to Basic Scene Structure" translate="no">​</a></h3>
<p>Create a well-organized scene hierarchy:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Scene Root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Ground</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Walls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── Obstacles</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── Lighting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Robots</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── HumanoidRobot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── BaseLink</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Links (joints and bodies)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── Sensors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── OtherRobots...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Controllers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ROSConnection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── RobotController</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── SceneController</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── Managers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── PhysicsManager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ├── VisualizationManager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── CommunicationManager</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="environment-setup">Environment Setup<a href="#environment-setup" class="hash-link" aria-label="Direct link to Environment Setup" title="Direct link to Environment Setup" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ground-plane">Ground Plane<a href="#ground-plane" class="hash-link" aria-label="Direct link to Ground Plane" title="Direct link to Ground Plane" translate="no">​</a></h4>
<p>Create a realistic ground plane with proper physics properties:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GroundPlaneSetup : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Ground Properties&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private PhysicMaterial groundMaterial;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float size = 100f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float friction = 0.5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float bounciness = 0.1f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create ground plane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        GameObject ground = GameObject.CreatePrimitive(PrimitiveType.Plane);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ground.transform.SetParent(transform);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ground.transform.localPosition = Vector3.zero;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ground.transform.localScale = Vector3.one * (size / 10f); // Plane is 10 units by default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure collider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var collider = ground.GetComponent&lt;Collider&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (collider != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (groundMaterial == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                groundMaterial = new PhysicMaterial(&quot;GroundMaterial&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                groundMaterial.staticFriction = friction;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                groundMaterial.dynamicFriction = friction;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                groundMaterial.bounciness = bounciness;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            collider.material = groundMaterial;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add visual material</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Renderer renderer = ground.GetComponent&lt;Renderer&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (renderer != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            renderer.material = CreateGroundMaterial();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Material CreateGroundMaterial()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Material groundMat = new Material(Shader.Find(&quot;Standard&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        groundMat.color = Color.gray;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        groundMat.SetFloat(&quot;_Metallic&quot;, 0.1f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        groundMat.SetFloat(&quot;_Smoothness&quot;, 0.2f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return groundMat;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="lighting-configuration">Lighting Configuration<a href="#lighting-configuration" class="hash-link" aria-label="Direct link to Lighting Configuration" title="Direct link to Lighting Configuration" translate="no">​</a></h4>
<p>Set up realistic lighting for the scene:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class LightingSetup : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Lighting Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private LightType lightType = LightType.Directional;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Color lightColor = Color.white;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float intensity = 1.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Vector3 lightDirection = new Vector3(-0.5f, -1f, -0.5f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create main light</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        GameObject lightObj = new GameObject(&quot;Main Light&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lightObj.transform.SetParent(transform);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lightObj.transform.position = new Vector3(0, 10, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Light light = lightObj.AddComponent&lt;Light&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        light.type = lightType;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        light.color = lightColor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        light.intensity = intensity;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        light.transform.rotation = Quaternion.LookRotation(lightDirection);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add ambient lighting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderSettings.ambientLight = new Color(0.2f, 0.2f, 0.2f, 1f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderSettings.ambientMode = UnityEngine.Rendering.AmbientMode.Trilight;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="physics-configuration">Physics Configuration<a href="#physics-configuration" class="hash-link" aria-label="Direct link to Physics Configuration" title="Direct link to Physics Configuration" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="physics-manager-settings">Physics Manager Settings<a href="#physics-manager-settings" class="hash-link" aria-label="Direct link to Physics Manager Settings" title="Direct link to Physics Manager Settings" translate="no">​</a></h3>
<p>Configure the Physics Manager for robotics simulation:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// This would be configured through Edit → Project Settings → Physics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Physics Settings for Robotics:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Gravity: (0, -9.81, 0) m/s²</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Default Material: Custom material with realistic friction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Bounce Threshold: 2 m/s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Sleep Threshold: 0.005 (keep objects from sleeping too early for control)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Default Contact Offset: 0.01</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Solver Iteration Count: 6-10 (balance accuracy and performance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Solver Velocity Iteration Count: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Queries Hit Backfaces: False (for sensors)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Queries Hit Triggers: True (for detection zones)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Enable Adaptive Force: False (for consistent control)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Layer Collision Matrix: Configure for robot self-collision if needed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="custom-physics-material">Custom Physics Material<a href="#custom-physics-material" class="hash-link" aria-label="Direct link to Custom Physics Material" title="Direct link to Custom Physics Material" translate="no">​</a></h3>
<p>Create realistic physics materials for robot components:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[CreateAssetMenu(fileName = &quot;RobotPhysicsMaterial&quot;, menuName = &quot;Robotics/Physics Material&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotPhysicsMaterial : ScriptableObject</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Friction Properties&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float staticFriction = 0.5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float dynamicFriction = 0.4f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Range(0, 1)] public float frictionCombine = 0; // 0=Average, 1=Minimum, 2=Maximum, 3=Multiply</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Bounce Properties&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Range(0, 1)] public float bounciness = 0.1f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Range(0, 1)] public float bounceCombine = 0; // Same options as frictionCombine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Simulation Properties&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool enableAdaptiveForce = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float solverIterations = 6f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float solverVelocityIterations = 1f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public PhysicMaterial CreatePhysicMaterial(string name = &quot;RobotMaterial&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PhysicMaterial material = new PhysicMaterial(name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        material.staticFriction = staticFriction;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        material.dynamicFriction = dynamicFriction;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        material.frictionCombine = GetCombineMode(frictionCombine);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        material.bounciness = bounciness;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        material.bounceCombine = GetCombineMode(bounceCombine);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return material;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PhysicMaterialCombine GetCombineMode(float value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (value &lt; 0.33f) return PhysicMaterialCombine.Average;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (value &lt; 0.66f) return PhysicMaterialCombine.Minimum;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (value &lt; 1.0f) return PhysicMaterialCombine.Maximum;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return PhysicMaterialCombine.Multiply;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="robot-integration">Robot Integration<a href="#robot-integration" class="hash-link" aria-label="Direct link to Robot Integration" title="Direct link to Robot Integration" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="robot-prefab-structure">Robot Prefab Structure<a href="#robot-prefab-structure" class="hash-link" aria-label="Direct link to Robot Prefab Structure" title="Direct link to Robot Prefab Structure" translate="no">​</a></h3>
<p>Create a well-structured robot prefab:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotStructure : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Robot Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public string robotName = &quot;HumanoidRobot&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float massMultiplier = 1.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Joint Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float defaultDamping = 0.1f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float defaultSpring = 10000f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float defaultMaxForce = 100f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Sensor Configuration&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Transform[] sensorPoints;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigureRobotPhysics();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigureJoints();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConfigureRobotPhysics()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Apply consistent physics properties to all rigidbodies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Rigidbody[] rigidbodies = GetComponentsInChildren&lt;Rigidbody&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (Rigidbody rb in rigidbodies)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rb.mass *= massMultiplier;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rb.drag = 0.01f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rb.angularDrag = 0.05f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rb.sleepThreshold = 0.005f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rb.interpolation = RigidbodyInterpolation.Interpolate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConfigureJoints()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure all joints with realistic properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigurableJoint[] joints = GetComponentsInChildren&lt;ConfigurableJoint&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (ConfigurableJoint joint in joints)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ConfigureJoint(joint);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConfigureJoint(ConfigurableJoint joint)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure linear limits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SoftJointLimit linearLimit = joint.linearLimit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        linearLimit.limit = 0.0f; // Fixed position constraint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        joint.linearLimit = linearLimit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure angular limits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SoftJointLimit lowAngularXLimit = joint.lowAngularXLimit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lowAngularXLimit.limit = -45f * Mathf.Deg2Rad; // Convert to radians</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        joint.lowAngularXLimit = lowAngularXLimit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SoftJointLimit highAngularXLimit = joint.highAngularXLimit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        highAngularXLimit.limit = 45f * Mathf.Deg2Rad;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        joint.highAngularXLimit = highAngularXLimit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure drive for control</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        JointDrive angularXDrive = joint.angularXDrive;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        angularXDrive.mode = JointDriveMode.PositionAndVelocity;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        angularXDrive.positionSpring = defaultSpring;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        angularXDrive.positionDamper = defaultDamping;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        angularXDrive.maximumForce = defaultMaxForce;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        joint.angularXDrive = angularXDrive;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="sensor-integration">Sensor Integration<a href="#sensor-integration" class="hash-link" aria-label="Direct link to Sensor Integration" title="Direct link to Sensor Integration" translate="no">​</a></h3>
<p>Integrate sensors with proper physics configuration:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotSensorSetup : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Camera Sensors&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Camera[] cameras;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private string cameraTopicPrefix = &quot;/camera&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;LIDAR Sensors&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Transform[] lidarPoints;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private string lidarTopicPrefix = &quot;/lidar&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;IMU Sensors&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Transform[] imuPoints;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private string imuTopicPrefix = &quot;/imu&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigureCameras();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigureLIDAR();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigureIMUs();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConfigureCameras()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; cameras.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Camera cam = cameras[i];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (cam != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Configure camera for realistic vision</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                cam.allowMSAA = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                cam.allowDynamicResolution = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Add perception components if using Unity Perception package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                var syntheticCamera = cam.gameObject.AddComponent&lt;Unity.Perception.GroundTruth.SyntheticCameraData&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                syntheticCamera.sensorId = $&quot;{cameraTopicPrefix}_{i}&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConfigureLIDAR()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // LIDAR typically uses raycasting, configure collision layers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (Transform lidarPoint in lidarPoints)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Configure the lidar point&#x27;s collision detection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Set up appropriate layers for raycasting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConfigureIMUs()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure IMU sensors with appropriate physics properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (Transform imuPoint in imuPoints)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Add IMU-specific components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var imuSensor = imuPoint.gameObject.AddComponent&lt;IMUMockup&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            imuSensor.Configure(this, imuPoint.name);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Mock IMU component for demonstration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class IMUMockup : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private RobotSensorSetup robot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private string sensorName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void Configure(RobotSensorSetup robotSetup, string name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        robot = robotSetup;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sensorName = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Simulate IMU data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // This would typically interface with ROS through the TCP connector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="scene-management">Scene Management<a href="#scene-management" class="hash-link" aria-label="Direct link to Scene Management" title="Direct link to Scene Management" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="scene-controller">Scene Controller<a href="#scene-controller" class="hash-link" aria-label="Direct link to Scene Controller" title="Direct link to Scene Controller" translate="no">​</a></h3>
<p>Create a scene controller for managing simulation state:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SceneController : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Simulation Control&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float simulationSpeed = 1.0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private bool useFixedTimeStep = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float fixedTimeStep = 0.02f; // 50 Hz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;ROS Connection&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private string rosIPAddress = &quot;127.0.0.1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private int rosPort = 10000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private ROSConnection rosConnection;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private bool isSimulationRunning = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetupROSLifecycle();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigureTimeStep();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SetupROSLifecycle()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Initialize ROS connection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rosConnection = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rosConnection.rosIPAddress = rosIPAddress;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rosConnection.rosPort = rosPort;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Register shutdown callback</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Application.quitting += OnApplicationQuit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConfigureTimeStep()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (useFixedTimeStep)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Time.fixedDeltaTime = fixedTimeStep;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OnApplicationQuit()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Clean up ROS connection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (rosConnection != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rosConnection.Close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void StartSimulation()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isSimulationRunning = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish simulation start message to ROS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void StopSimulation()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isSimulationRunning = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Publish simulation stop message to ROS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void ResetSimulation()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Reset robot positions, clear data, etc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ResetRobots();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ResetRobots()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RobotStructure[] robots = FindObjectsOfType&lt;RobotStructure&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (RobotStructure robot in robots)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Reset robot to initial configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ResetRobotToInitialPosition(robot);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ResetRobotToInitialPosition(RobotStructure robot)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Store initial positions and reset to them</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Transform robotTransform = robot.transform;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        robotTransform.position = robotTransform.position; // Or use stored initial position</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        robotTransform.rotation = robotTransform.rotation; // Or use stored initial rotation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Reset all joint positions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigurableJoint[] joints = robot.GetComponentsInChildren&lt;ConfigurableJoint&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (ConfigurableJoint joint in joints)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Reset joint to initial configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-optimization">Performance Optimization<a href="#performance-optimization" class="hash-link" aria-label="Direct link to Performance Optimization" title="Direct link to Performance Optimization" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="physics-optimization">Physics Optimization<a href="#physics-optimization" class="hash-link" aria-label="Direct link to Physics Optimization" title="Direct link to Physics Optimization" translate="no">​</a></h3>
<p>Configure physics for optimal performance:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class PhysicsOptimizer : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Performance Settings&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private int solverIterationCount = 6;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private int solverVelocityIterationCount = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float contactOffset = 0.01f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float sleepThreshold = 0.005f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Simulation Quality&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private bool enableAdaptiveForce = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private bool enableContinuousCollisionDetection = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private CollisionDetectionMode collisionDetectionMode = CollisionDetectionMode.Discrete;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        OptimizePhysicsSettings();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OptimizePhysicsSettings()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultSolverIterations = solverIterationCount;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultSolverVelocityIterations = solverVelocityIterationCount;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultContactOffset = contactOffset;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.sleepThreshold = sleepThreshold;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultUseAdaptiveForce = enableAdaptiveForce;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultSolverContactOffset = contactOffset;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Apply settings to all rigidbodies in the scene</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Rigidbody[] allRigidbodies = FindObjectsOfType&lt;Rigidbody&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (Rigidbody rb in allRigidbodies)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rb.collisionDetectionMode = enableContinuousCollisionDetection ?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                CollisionDetectionMode.Continuous : collisionDetectionMode;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="level-of-detail-lod-for-complex-robots">Level of Detail (LOD) for Complex Robots<a href="#level-of-detail-lod-for-complex-robots" class="hash-link" aria-label="Direct link to Level of Detail (LOD) for Complex Robots" title="Direct link to Level of Detail (LOD) for Complex Robots" translate="no">​</a></h3>
<p>Implement LOD for complex robot models:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotLODManager : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [System.Serializable]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public class LODLevel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public string name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public float distance;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public GameObject[] objects;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private LODLevel[] lodLevels;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Transform cameraTransform;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int currentLOD = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (cameraTransform == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cameraTransform = Camera.main.transform;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        UpdateLOD();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void UpdateLOD()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float distance = Vector3.Distance(transform.position, cameraTransform.position);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int newLOD = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; lodLevels.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (distance &gt; lodLevels[i].distance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                newLOD = i;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (newLOD != currentLOD)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SetLOD(newLOD);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            currentLOD = newLOD;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void SetLOD(int lodIndex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; lodLevels.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            bool isActive = i == lodIndex;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            foreach (GameObject obj in lodLevels[i].objects)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (obj != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    obj.SetActive(isActive);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="debugging-and-visualization">Debugging and Visualization<a href="#debugging-and-visualization" class="hash-link" aria-label="Direct link to Debugging and Visualization" title="Direct link to Debugging and Visualization" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="physics-debugging-tools">Physics Debugging Tools<a href="#physics-debugging-tools" class="hash-link" aria-label="Direct link to Physics Debugging Tools" title="Direct link to Physics Debugging Tools" translate="no">​</a></h3>
<p>Create tools for debugging physics simulation:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class PhysicsDebugger : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Header(&quot;Debug Settings&quot;)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private bool showColliders = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private bool showJoints = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private bool showForces = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Color colliderColor = Color.blue;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Color jointColor = Color.green;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OnDrawGizmos()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (showColliders)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            DrawColliders();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (showJoints)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            DrawJoints();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (showForces)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            DrawForces();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void DrawColliders()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Collider[] colliders = GetComponentsInChildren&lt;Collider&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (Collider col in colliders)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Gizmos.color = colliderColor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (col is BoxCollider)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                BoxCollider box = (BoxCollider)col;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Gizmos.matrix = Matrix4x4.TRS(box.transform.position, box.transform.rotation, Vector3.one);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Gizmos.DrawWireCube(box.center, box.size);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else if (col is SphereCollider)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                SphereCollider sphere = (SphereCollider)col;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Gizmos.matrix = Matrix4x4.TRS(box.transform.position, box.transform.rotation, Vector3.one);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Gizmos.DrawWireSphere(sphere.center, sphere.radius);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Add other collider types as needed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void DrawJoints()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ConfigurableJoint[] joints = GetComponentsInChildren&lt;ConfigurableJoint&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (ConfigurableJoint joint in joints)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Gizmos.color = jointColor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Gizmos.DrawWireSphere(joint.transform.position, 0.1f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (joint.connectedBody != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Gizmos.DrawLine(joint.transform.position, joint.connectedBody.transform.position);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void DrawForces()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Rigidbody[] rigidbodies = GetComponentsInChildren&lt;Rigidbody&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (Rigidbody rb in rigidbodies)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Vector3 force = rb.velocity * rb.mass; // Approximate force</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Gizmos.color = Color.red;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Gizmos.DrawRay(rb.position, force.normalized * 0.5f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-consistent-units">1. Consistent Units<a href="#1-consistent-units" class="hash-link" aria-label="Direct link to 1. Consistent Units" title="Direct link to 1. Consistent Units" translate="no">​</a></h3>
<p>Always use SI units (meters, kilograms, seconds) to match ROS conventions:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Configuration constants using SI units</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public static class RobotConstants</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public const float Gravity = 9.81f; // m/s²</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public const float MassMultiplier = 1.0f; // kg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public const float LengthScale = 1.0f; // meters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public const float VelocityScale = 1.0f; // m/s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public const float TorqueScale = 1.0f; // N⋅m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-modularity">2. Modularity<a href="#2-modularity" class="hash-link" aria-label="Direct link to 2. Modularity" title="Direct link to 2. Modularity" translate="no">​</a></h3>
<p>Create modular components that can be reused:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Generic sensor base class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public abstract class RobotSensor : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] protected string topicName;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] protected string frameId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] protected float updateRate = 30f; // Hz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected float updateInterval;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected float lastUpdateTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected virtual void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        updateInterval = 1.0f / updateRate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lastUpdateTime = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected virtual void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Time.time - lastUpdateTime &gt;= updateInterval)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            UpdateSensorData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastUpdateTime = Time.time;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected abstract void UpdateSensorData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-error-handling">3. Error Handling<a href="#3-error-handling" class="hash-link" aria-label="Direct link to 3. Error Handling" title="Direct link to 3. Error Handling" translate="no">​</a></h3>
<p>Implement robust error handling for ROS connections:</p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobustROSConnection : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private string rosIPAddress = &quot;127.0.0.1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private int rosPort = 10000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float connectionRetryDelay = 5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private ROSConnection rosConnection;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private bool isConnected = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float lastConnectionAttempt = 0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        InitializeROSConnection();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void InitializeROSConnection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rosConnection = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rosConnection.rosIPAddress = rosIPAddress;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rosConnection.rosPort = rosPort;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rosConnection.OnConnected += OnConnected;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rosConnection.OnDisconnected += OnDisconnected;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        catch (System.Exception e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Debug.LogError($&quot;Failed to initialize ROS connection: {e.Message}&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OnConnected()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isConnected = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Successfully connected to ROS&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        OnROSConnected();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OnDisconnected()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isConnected = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.LogWarning(&quot;Disconnected from ROS&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AttemptReconnection();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void AttemptReconnection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Time.time - lastConnectionAttempt &gt; connectionRetryDelay)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastConnectionAttempt = Time.time;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            InitializeROSConnection();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    protected virtual void OnROSConnected()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Override in derived classes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="exercise">Exercise<a href="#exercise" class="hash-link" aria-label="Direct link to Exercise" title="Direct link to Exercise" translate="no">​</a></h2>
<p>Create a complete Unity scene for humanoid robot simulation that includes:</p>
<ol>
<li class="">A well-structured scene hierarchy with proper organization</li>
<li class="">Physics configuration optimized for humanoid robot simulation</li>
<li class="">A robot prefab with realistic physical properties</li>
<li class="">Proper lighting and environment setup</li>
<li class="">Sensor configurations for cameras, LIDAR, and IMU</li>
<li class="">Performance optimization techniques</li>
<li class="">Debugging visualization tools</li>
</ol>
<p>Test your scene by ensuring the robot behaves realistically with proper physics interactions and can communicate with ROS systems.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/sensor-simulation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Sensor Simulation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Physical-AI-Humanoid-Robotics-Book/docs/module-2-digital-twin/unity-visualization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Unity Visualization</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#unity-project-setup-for-robotics" class="table-of-contents__link toc-highlight">Unity Project Setup for Robotics</a><ul><li><a href="#initial-project-configuration" class="table-of-contents__link toc-highlight">Initial Project Configuration</a></li><li><a href="#required-packages" class="table-of-contents__link toc-highlight">Required Packages</a></li><li><a href="#project-settings-configuration" class="table-of-contents__link toc-highlight">Project Settings Configuration</a></li></ul></li><li><a href="#scene-architecture" class="table-of-contents__link toc-highlight">Scene Architecture</a><ul><li><a href="#basic-scene-structure" class="table-of-contents__link toc-highlight">Basic Scene Structure</a></li><li><a href="#environment-setup" class="table-of-contents__link toc-highlight">Environment Setup</a></li></ul></li><li><a href="#physics-configuration" class="table-of-contents__link toc-highlight">Physics Configuration</a><ul><li><a href="#physics-manager-settings" class="table-of-contents__link toc-highlight">Physics Manager Settings</a></li><li><a href="#custom-physics-material" class="table-of-contents__link toc-highlight">Custom Physics Material</a></li></ul></li><li><a href="#robot-integration" class="table-of-contents__link toc-highlight">Robot Integration</a><ul><li><a href="#robot-prefab-structure" class="table-of-contents__link toc-highlight">Robot Prefab Structure</a></li><li><a href="#sensor-integration" class="table-of-contents__link toc-highlight">Sensor Integration</a></li></ul></li><li><a href="#scene-management" class="table-of-contents__link toc-highlight">Scene Management</a><ul><li><a href="#scene-controller" class="table-of-contents__link toc-highlight">Scene Controller</a></li></ul></li><li><a href="#performance-optimization" class="table-of-contents__link toc-highlight">Performance Optimization</a><ul><li><a href="#physics-optimization" class="table-of-contents__link toc-highlight">Physics Optimization</a></li><li><a href="#level-of-detail-lod-for-complex-robots" class="table-of-contents__link toc-highlight">Level of Detail (LOD) for Complex Robots</a></li></ul></li><li><a href="#debugging-and-visualization" class="table-of-contents__link toc-highlight">Debugging and Visualization</a><ul><li><a href="#physics-debugging-tools" class="table-of-contents__link toc-highlight">Physics Debugging Tools</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a><ul><li><a href="#1-consistent-units" class="table-of-contents__link toc-highlight">1. Consistent Units</a></li><li><a href="#2-modularity" class="table-of-contents__link toc-highlight">2. Modularity</a></li><li><a href="#3-error-handling" class="table-of-contents__link toc-highlight">3. Error Handling</a></li></ul></li><li><a href="#exercise" class="table-of-contents__link toc-highlight">Exercise</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Content</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Physical-AI-Humanoid-Robotics-Book/">Introduction</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/your-username/physical-ai-humanoid-robotics" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Physical AI & Humanoid Robotics Book. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>